\section{Введение}

Рассмотрим классическую задачу коммуникационной сложности. Пусть есть некоторая функция $f\colon X \times
Y \to Z$ (причем не обязательно однозначная) и мы предполагаем, что все множества $X, Y, Z$
конечны. Алиса и Боб хотят вместе посчитать значение этой функции (и оба узнать ответ), но Алиса знает
значение только первого аргумета, а Боб только второго. Чаще всего мы предполагаем, что Алиса и Боб не
ограничены в вычислительных способностях.

В данном разделе мы посмотрим на различные способы коммуникации между Алисой и Бобом, которые позволяют
им решить проблему, но не будем давать формальных определений, интуитивных будет вполне достаточно.

\subsection{Детерминированная коммуникация}

Мы считаем, что, получив свои входы, Алиса и Боб начинают обмениваться друг с другом битами (в каждый
момент времени только один из игроков посылает другому биты) до тех пор,
пока однозначно не смогут определить ответ.

\begin{figure}[h]
    \centering
    \input{pics/protocol-intro.tex}
\end{figure}

Под \deftext{протоколом} будем понимать договоренность между Алисой и Бобом о том, кто и какие биты
посылает в каждый момент времени. \deftext{Детерминированная коммуникационная сложность} функции $f$~---
это $\min\limits_{\text{протокол}} \max\limits_{x \in X,\ y \in Y} (\#\text{ переданных бит})$. Данную
меру сложности будем обозначать $\DCC(f)$, часто в литературе можно встретить обозначение
$\measure{CC}(f)$.

Тривиальные верхние оценки на $\DCC(f)$.
\begin{enumerate}
    \item $\min(\log |X| + \log |X|, \log |Y| + \log |Z|, \log |X| + \log |Y|)$;
    \item $n + 1$ для функций $f\colon \{0, 1\}^n \times \{0, 1\}^n \to \{0, 1\}$.
\end{enumerate}

В приложениях часто нужно считать promise-функции (например, гарантируется, что $|x| + |y| = n$~---
множество таких $(x, y)$ не является декартовым произведением) или отношения: $S \subseteq X \times Y
\times Z$, по $x \in X$ и $y \in Y$ ищем любой подходящий $z \in Z$. Многие теоремы, к сожалению, будут
работать только для функций.

Примеры функций:
\begin{enumerate}
    \item $\Parity(x, y) = (x + y) \bmod 2$, где $x, y \in \{0, 1\}$. $\DCC(\Parity) = 2$.
    % \item Pointer Chasing: $x$ и $y$ "--- функции $\{0, 1\}^n\to \{0, 1\}^n$. Хотят посчитать
    % $x(y(\ldots(x(1^n))\ldots))$ ($k$ раз), $k$ обычно константа. $|x| = |y| = n2^n$. Тривиальный
    % протокол: $\DCC \leq nk$.
    \item $\CIS$~--- зафиксируем некоторый граф $G$, Алиса получает клику, а Боб независимое множество;
        их цель: определить, есть ли пересечение между множестваим Алисы и Боба.
\end{enumerate}

\begin{theorem}[Yannakakis \cite{Yannakakis91}]
    $\DCC(\CIS) \le \bigO{\log^2 n}$.
\end{theorem}

\begin{proof}
    Рассмотрим три случая:
    \begin{itemize}
        \item если у Алисы есть вершина $v$ степени не более $\frac{n}{2}$, то она посылает эту вершину
            Бобу, и они уменьшают граф до соседей вершины $v$, то есть хотя бы вдвое;
        \item аналогично для Боба, если у него есть вершина $v$ степени хотя бы $\frac{n}{2}$, то он
            посылает эту вершину Бобу, и они уменьшают граф до множества вершин, несвязных с $v$, то есть
            хотя бы вдвое;
        \item иначе у Алисы все вершины большой степени, а у Боба~--- маленькой, тогда пересечение пусто.
    \end{itemize}

    Раундов $\bigO{\log n}$, на каждом раунде пересылаем номер вершины, то есть не более $\bigO{\log n}$.
\end{proof}


Эта задача важна, поскольну имеет прямую связь с некоторыми коммуникационными мерами сложности, к чему мы
вернемся чуть дальше. Долгое время не удавалось доказать нетривиальных нижних оценок, для их получения
потребовалась новая техника, первая такая оценка была получена в работе \cite{Goos15-CIS}: $\DCC(\CIS) =
\Omega(\log^{1.128} n)$.

Рассмотрим еще примеры функций.
\begin{enumerate}
    \item $\DCC(\EQ) \le n + 1$, где $\EQ(x, y) = 1 \Leftrightarrow x = y$.
    \item $\DCC(\GT) \le n + 1$, где $\GT(x, y) = 1 \Leftrightarrow x \ge y$ (сравниваем как числа, то
        есть лексикографически).
    \item $\DCC(\Disj) \le n + 1$. $\Disj$: верно ли, что нет общей единички у $x$ и $y$.
\end{enumerate}

Оказывается, для $\EQ$, $\GT$, $\Disj$ это точные оценки.


\subsection{Немного о применениях}

Пусть $\varphi$~--- это булева формула в КНФ, хотим проверить её на выполнимость.

Определим семейство алгоритмов для решения задачи выполнимости формулы в КНФ. $\DPLL$ алгоритмы
параметризуются тремя эвристиками: $\alg{A}$ и $\alg{B}$. Эвристика $\alg{A}$ получает на вход формулу и
возвращает переменную для расщепления, эвристика $\alg{B}$ получает на вход формулу и переменную и
возвращает значение, которое должно быть подставлено на место переменной первым.

Формально алгоритм $\DPLL_{\alg{A}, \alg{B}}$ определяется следующим образом.

\input{alg/dpll.tex}

Докажем, что есть невыполнимая формула, на которой работает экспоненциально долго. Пусть $\varphi(x,
y)$~--- невыполнимая формула в КНФ, $\mathcal{O}$~--- множество её клозов (дизъюнктов). Определим
\deftext{задачу поиска невыполненного клоза} как отношение $\Search_{\varphi} \subseteq X \times Y \times
\mathcal{O}$: по $(a, b)$ необходимо найти клоз, который не выполнен подстановкой $(a, b)$ (любой, если
несколько).

\begin{theorem}
    \label{th:DPLL-and-Search}
    $\DPLL(\varphi) \ge 2^{\Omega(\DCC(\Search_{\varphi}))}$.
\end{theorem}

\dscomment{Остановился тут}

\begin{proof}
    Найдём центроид дерева расщепления (то есть размер его поддерева от $1/3$ до $2/3$ от размера всего
    дерева). Алиса и Боб проверяют, дойдут ли они в эту вершину. Это можно сделать независимо, и потом
    послать всего два бита. Рекурсивно вызовемся от одной из частей.

    Пусть осталась одна вершина. Во-первых, это лист (посмотрим в исходном дереве на путь,
    соответствующий подстановке, его последняя вершина никогда не будет удалена). Во-вторых, в нём
    написан клоз, который опровергается (по тем же причинам).

    Таким образом, дерево $T$ даёт протокол размера $2\log_{3/2} |T| = \bigO{\log |T|}$.
\end{proof}

Есть формулы, у которых $\DCC(\Search_{\varphi}) \geq \Omega(n / \log n)$:
\begin{itemize}
    \item первая оценка \cite{BPS07-search}, трудная статья;
    \item разберем оценку из статьи \cite{GP18-crit} в дальнейшем.
\end{itemize}

В обеих статьях $\Search_{\varphi}$ сводится к $\Disj$.

\section{Вероятностная коммуникация с публичными случайными битами}

В вероятностной коммуникации есть две модели: с публичными случайными битами и с приватными случайными
битами. Пока обсудим только первую.

У Алисы и Боба есть доступ к общим случайным битам $r$. Мы считаем, что протокол $\Pi$ считает функцию
$f$, если выполнено следующее условие: $\Pr\limits_{r} [\Pi(x, y) \neq f(x, y)] \le
\varepsilon$. Аналогично детерминированному случаю скажем, что
$\Rpub[\varepsilon](f) = \min\limits_{\Pi} \max\limits_{x, y}(\text{число переданных бит})$.

Зависимость от $\varepsilon$?
\begin{theorem}
    Пусть $\varepsilon, \varepsilon' < 1 / 3$. Тогда
    $\RCC[\varepsilon'](f) \le \bigO{\RCC[\varepsilon](f) \times \log\frac{1}{\varepsilon'}}$
\end{theorem}

\begin{proof}
    Повторим протокол $100 \log(1 / \varepsilon')$ раз. Оценка Чернова.
\end{proof}

\begin{theorem}
    \label{th:rand-eq-pub-upper}%
    $\Rpub[1 / 2](\EQ) = 2$, причём ошибка односторонняя.
\end{theorem}

\begin{proof}
    Сравнивают $\avg{x, r}$ и $\avg{y, r}$ для случайного $r$.
\end{proof}

\begin{corollary}
    $\Rpub[\varepsilon](\EQ) = \bigO{\log \frac{1}{\varepsilon}}$.
\end{corollary}

$\RCC(\GT) \le \bigO{\log n}$~--- нетривиально (покажем позже). Пока что докажем более простую оценку.
\begin{theorem}
    \label{th:rand-eq-pub-upper}%
    $\Rpub(\GT) \le \bigO{\log n\cdot \log\log n}$.
\end{theorem}

\begin{proof}
    Найдём первую позицию различия. Бинарный поиск. Для сравнения используем $\EQ$ для префикса с ошибкой
    не более $\frac{c}{\log n}$ для $c < 1$ (т. е. $\bigO{\log \log n}$ повторений).

    Суммарную ошибку оценим по union bound как $\log n \cdot \frac{c}{\log n} \leq c$.
\end{proof}